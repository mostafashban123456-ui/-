import streamlit as st
import requests

# --- ุฅุนุฏุงุฏุงุช ุงูุตูุญุฉ ---
st.set_page_config(page_title="ููุตุฉ ุงูููุงุฑุฉ ุงูุฅุณูุงููุฉ ุงูุดุงููุฉ", layout="wide")

if 'islamic_access' not in st.session_state:
    st.session_state['islamic_access'] = False
if 'dikr' not in st.session_state:
    st.session_state['dikr'] = 0

# --- 1. ุดุงุดุฉ ุงูุฏุฎูู ---
if not st.session_state['islamic_access']:
    st.image("1000097993.jpg", use_container_width=True)
    st.title("๐ ุจูุงุจุฉ ุงูููุงุฑุฉ ุงูุฅุณูุงููุฉ")
    u = st.text_input("ุงุณู ุงูุทุงูุจ")
    p = st.text_input("ูููุฉ ุงูุณุฑ", type="password")
    if st.button("ุฏุฎูู"):
        if u == "mostafa" and p == "2026":
            st.session_state['islamic_access'] = True
            st.rerun()
    st.stop()

# --- 2. ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ (ุงูููุงููุช ูุงููุณุจุญุฉ) ---
st.sidebar.title("๐ฟ ุฑูู ุงูุนุจุงุฏุงุช")
st.sidebar.write(f"ุนุฏุงุฏ ุงูุชุณุจูุญ: {st.session_state['dikr']}")
if st.sidebar.button("ุณุจูุญ"):
    st.session_state['dikr'] += 1

st.sidebar.divider()
choice = st.sidebar.selectbox("ุงุฎุชุฑ ุงููุณู:", [
    "๐ ุงููุตุญู ูุงููุฑุงุกุงุช ุงูุนุดุฑ", 
    "๐ ุงูููุชุจุฉ ุงูุดุฑุนูุฉ (ุชูุณูุฑ ูููู)", 
    "๐ ุงูุญูู ุงูุนุทุงุฆูุฉ (ุงูุจูุทู)", 
    "๐ค ุงููุณุงุนุฏ ุงูุดุฑุนู ุงูุฐูู & ุญู ุงูุงูุชุญุงูุงุช"
])

# --- 3. ุชุดุบูู ุงูุฃูุณุงู ุงููุนุทูุฉ ---

# ุฃ- ุงููุตุญู ูุงููุฑุงุกุงุช ุงูุนุดุฑ (ุฑูุงุจุท ูุจุงุดุฑุฉ)
if choice == "๐ ุงููุตุญู ูุงููุฑุงุกุงุช ุงูุนุดุฑ":
    st.header("๐ ุงููุตุญู ุงูุดุฑูู ูุงููุฑุงุกุงุช ุงูุนุดุฑ")
    tab1, tab2 = st.tabs(["ุงุณุชูุงุน ูุชูุงูุฉ", "ูุชุจ ุงููุฑุงุกุงุช"])
    with tab1:
        st.subheader("ุณูุงุน ุงููุฑุขู ุงููุฑูู")
        st.video("https://www.youtube.com/watch?v=KTYitLel7-g") # ุฅุฐุงุนุฉ ุงููุฑุขู ุงููุฑูู ุจุซ ูุจุงุดุฑ
        st.write("๐๏ธ ุงุฎุชุฑ ุงููุงุฑุฆ ูู ุงููุงุฆูุฉ ูุณูุงุน ุงููุฑุงุกุงุช ุงูุนุดุฑ (ูุฑุดุ ูุงูููุ ุฅูุฎ).")
    with tab2:
        st.subheader("๐ ุชุญููู ูุชูู ุงููุฑุงุกุงุช")
        st.info("ูุชู ุงูุดุงุทุจูุฉ - ูุชู ุงูุฏุฑุฉ - ุทูุจุฉ ุงููุดุฑ (ุฌุงูุฒุฉ ูููุฑุงุกุฉ)")
        st.markdown("[ุชุญููู ูุชุงุจ ุงูุดุงุทุจูุฉ PDF](https://ia800205.us.archive.org/17/items/waq63762/63762.pdf)")

# ุจ- ุงูููุชุจุฉ ุงูุดุฑุนูุฉ (ุงููุญุชูู ุงููุจุงุดุฑ)
elif choice == "๐ ุงูููุชุจุฉ ุงูุดุฑุนูุฉ (ุชูุณูุฑ ูููู)":
    st.header("๐ ููุชุจุฉ ุงูุนููู ุงูุดุฑุนูุฉ")
    search_book = st.text_input("ุงุจุญุซ ุนู ูุณุฃูุฉ ูู ุงูุชูุณูุฑ ุฃู ุงูููู:")
    col1, col2 = st.columns(2)
    with col1:
        st.subheader("๐ ุงูุชูุณูุฑ ูุงูุญุฏูุซ")
        st.write("- ุชูุณูุฑ ุงุจู ูุซูุฑ")
        st.write("- ุตุญูุญ ุงูุจุฎุงุฑู ููุณูู")
        st.video("https://www.youtube.com/watch?v=Xp0N6_hP90E") # ููุฏูู ุดุฑุญ ูููู
    with col2:
        st.subheader("๐ ุงูููู ูุงูุดุฑูุนุฉ")
        st.write("- ุงูููู ุนูู ุงููุฐุงูุจ ุงูุฃุฑุจุนุฉ")
        st.write("- ุงูุณูุฑุฉ ุงููุจููุฉ")

# ุฌ- ุงููุณุงุนุฏ ุงูุดุฑุนู ุงูุฐูู (ุชูุนูู ุงูู AI)
elif choice == "๐ค ุงููุณุงุนุฏ ุงูุดุฑุนู ุงูุฐูู & ุญู ุงูุงูุชุญุงูุงุช":
    st.header("๐ค ูููู ุงูููุงุฑุฉ ุงูุฐูู")
    st.write("ุงุฑูุน ุตูุฑุฉ ุงูุงูุชุญุงู ุฃู ุงูุณุคุงู ุงูุดุฑุนู ูุณูููู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุจุญูู:")
    
    # ูุฐู ุงูุฎุงูุฉ ุชุณูุญ ุจุฑูุน ุงููููุงุช ูุนููุงู
    file = st.file_uploader("ุงุฑูู ุงููุณุชูุฏ (ุตูุฑุฉ ุฃู PDF)", type=['jpg', 'png', 'pdf'])
    
    user_q = st.text_area("ุฃู ุงูุชุจ ุณุคุงูู ููุง ููุดุฑุญ:")
    if st.button("ุชุญููู ูุญู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู"):
        if user_q or file:
            with st.spinner("ุฌุงุฑู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุจูุงูุงุช ุงูุฃุฒูุฑ ุงูุดุฑูู..."):
                # ูุญุงูุงุฉ ุฑุฏ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุจูุงุกู ุนูู ุงููุฑุงุฌุน
                st.success("๐ค ุชู ุงูุชุญููู: ุจูุงุกู ุนูู ูุฑุงุฌุน ุงูููู ุงููุนุชูุฏุฉุ ุงูุฅุฌุงุจุฉ ูู...")
                st.write("ูููุงู ููุง ูุฑุฏ ูู 'ูุชุญ ุงูุจุงุฑู' ูุดุฑุญ ูุจุงุฑ ุงูุนููุงุกุ ูุฅู ุงููุณุฃูุฉ ุชูุชุถู...")
        else:
            st.error("ุงูุฑุฌุงุก ูุชุงุจุฉ ุณุคุงู ุฃู ุฑูุน ุตูุฑุฉ ุฃููุงู.")
